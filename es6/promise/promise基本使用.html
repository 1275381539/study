<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        // setTimeout(()=>{
        //     console.log('123')
        // },1000)  

        // 参数 -> 函数（resolve,reject）
        // resolve,reject 本身也是函数
        new Promise((resolve,reject)=>{
            // 第一次网络请求
            setTimeout(()=>{
                resolve()
            },1000) 
        }).then(()=>{
            console.log('第一次请求的结果')

            return new Promise((resolve,reject)=>{
                // 第二次网络请求
                setTimeout(()=>{
                    resolve()
                },1000) 
            }).then(()=>{
                console.log('第二次请求结果')
                 return new Promise((resolve,reject)=>{
                    // 第三次网络请求
                    setTimeout(()=>{
                        // 成功的时候调用
                        // resolve('hello')
                        // 失败时调用
                        reject('error message')
                    },1000) 
                 }).then((data)=>{
                     console.log('第三次请求结果',data)
                 }).catch(err=>{
                    console.log(err)
                 })
            })
        })

        //  有异步操作时，使用Promise操作进行封装

        // 另一种写法
        new Promise((resolve,reject)=>{
            // 第三次网络请求
            setTimeout(()=>{
                // 成功的时候调用
                // resolve('hello')
                // 失败时调用
                reject('error message')
            },1000) 
        }).then(data=>{
            console.log('第三次请求结果',data)
        },err=>{
            console.log(err)
        })
    </script>
</body>
</html>